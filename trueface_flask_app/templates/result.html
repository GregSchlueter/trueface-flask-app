<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>TrueFace 3.0 Evaluation</title>
    <link rel="icon" href="{{ url_for('static', filename='images/favicon.png') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <img src="{{ url_for('static', filename='images/TrueFace3.png') }}" alt="TrueFace 3.0 Logo" class="logo" aria-label="TrueFace 3.0 Logo">
        <p class="intro">{{ intro }}</p>

        <div class="humanity-scale-section">
            <h2>Humanity Scale</h2>
            <div class="humanity-scale">
                {% for num, (img, label, desc) in humanity_scale.items() %}
                <div class="humanity-item {% if num == final_humanity_score %}highlight{% endif %}">
                    <img src="{{ url_for('static', filename='images/' + img + '.png') }}" alt="{{ label }}">
                    <strong>{{ num }} - {{ label }}</strong>
                    <p>{{ desc }}</p>
                </div>
                {% endfor %}
            </div>
        </div>

        <div class="comment-box">
            <strong>Comment:</strong>
            <p>{{ comment_excerpt }}</p>
        </div>

        <div class="evaluation-section">
            {% for category, score in scores.items() %}
            <div class="category-block">
                <h3>
                    <img src="{{ url_for('static', filename='images/' + humanity_scale[score][0] + '.png') }}" alt="{{ humanity_scale[score][1] }} Icon" class="category-icon">
                    {{ category }}: {{ score }}/5
                </h3>
                <p>{{ evaluations[category] }}</p>
            </div>
            {% endfor %}
        </div>

        <div class="together-section">
            <h3>ðŸŒ¿ Together We Are Better</h3>
            <p>{{ summary }}</p>
        </div>

        <div class="summary-section">
            <h3>ðŸ§¾ Final Summary Score: {{ total_score }}/25</h3>
            <p>Your comment ranks as: {{ humanity_scale[final_humanity_score][1] }}</p>
        </div>

        <div class="button-group">
            <a href="{{ url_for('index') }}" class="back-button">Evaluate Another Comment</a>
            <button onclick="copyResults()" class="copy-button">Copy Results</button>
        </div>

        <div class="footer-note">
            Make Social Media Better with TrueFace | "Reveal the Real" GO: <a href="https://truefaceworld.com">TrueFaceWorld.com</a>
        </div>

        <div class="social-icons">
            <a href="https://facebook.com/TrueFaceWorld" target="_blank" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
            <a href="https://x.com/TrueFaceWorld" target="_blank" aria-label="X"><i class="fab fa-x-twitter"></i></a>
            <a href="https://instagram.com/TrueFaceWorld" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
            <a href="https://linkedin.com/company/TrueFaceWorld" target="_blank" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
        </div>
    </div>

    <script>
        function copyResults() {
            const text = `
TrueFace 3.0 Evaluation\n\n
Comment: {{ comment_excerpt }}\n
{% for category, score in scores.items() %}
${category}: ${score}/5 - {{ evaluations[category] | replace('\n', ' ') }}\n
{% endfor %}
Together We Are Better: {{ summary | replace('\n', ' ') }}\n
Final Score: {{ total_score }}/25\n
Humanity Rank: {{ humanity_scale[final_humanity_score][1] }}\n
\nLearn more at https://truefaceworld.com
            `.trim();
            navigator.clipboard.writeText(text)
                .then(() => alert('Results copied to clipboard!'))
                .catch(() => alert('Failed to copy results.'));
        }
    </script>
</body>
</html>